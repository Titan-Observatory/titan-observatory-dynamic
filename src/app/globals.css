@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, :root { height: 100%; }

:root {
  --color-bg: 16 18 26;
  --color-bg-alt: 23 26 40;
  --color-surface: 31 34 51;
  --color-surface-hover: 40 44 68;
  --color-border: 58 63 91;
  --color-status-line: 47 51 77;
  --color-text-primary: 230 232 245;
  --color-text-secondary: 245 246 255;
  --color-text-muted: 165 170 197;
  --color-red: 212 106 115;
  --color-green: 127 184 165;
  --color-blue: 94 102 138;
  --color-yellow: 234 204 132;
  --color-purple: 60 65 92;
  --color-orange: 198 147 68;
  --color-aqua: 138 184 212;
}

:root[data-theme="sunrise"] {
  --color-bg: 242 237 228;
  --color-bg-alt: 232 222 210;
  --color-surface: 222 210 196;
  --color-surface-hover: 210 196 181;
  --color-border: 193 174 156;
  --color-status-line: 180 159 140;
  --color-text-primary: 67 52 43;
  --color-text-secondary: 43 33 25;
  --color-text-muted: 120 102 89;
  --color-red: 201 91 75;
  --color-green: 126 156 75;
  --color-blue: 91 142 148;
  --color-yellow: 200 144 58;
  --color-purple: 165 105 143;
  --color-orange: 208 122 60;
  --color-aqua: 106 165 139;
}

@layer base {
  body {
    @apply bg-titan-bg text-titan-text-primary antialiased;
  }

  h1, h2, h3, h4 {
    @apply text-titan-text-secondary;
  }

  a {
    @apply text-titan-orange transition-colors duration-200;
  }

  a:hover {
    @apply text-titan-yellow;
  }

  ::selection {
    background: rgb(var(--color-orange));
    color: rgb(var(--color-bg));
  }
}

@layer components {
  .titan-card {
    @apply bg-titan-surface border border-titan-border rounded-lg shadow-titan;
  }

  .titan-surface {
    @apply bg-titan-surface text-titan-text-primary;
  }

  .titan-input {
    @apply bg-titan-surface border border-titan-border text-titan-text-primary placeholder:text-titan-text-muted focus:outline-none focus:ring-2 focus:ring-titan-blue focus:border-transparent rounded-md transition-colors duration-150;
  }

  .titan-button {
    @apply inline-flex items-center justify-center rounded-md bg-titan-orange px-4 py-2 font-medium text-titan-bg transition-colors duration-200 hover:bg-titan-yellow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-titan-orange focus:ring-offset-titan-bg;
  }

  .titan-section {
    @apply bg-titan-bg-alt border border-titan-border rounded-xl shadow-titan;
  }

  /* Discourse-rendered content */
  .discourse-content {
    color: rgb(var(--color-text-primary));
    line-height: 1.7;
  }

  .discourse-content > * + * {
    margin-top: 0.9rem;
  }

  .discourse-content h1,
  .discourse-content h2,
  .discourse-content h3,
  .discourse-content h4 {
    color: rgb(var(--color-text-secondary));
    font-weight: 700;
    line-height: 1.3;
    margin-top: 1.4rem;
    margin-bottom: 0.6rem;
  }

  .discourse-content h1 { font-size: 1.8rem; }
  .discourse-content h2 { font-size: 1.4rem; }
  .discourse-content h3 { font-size: 1.2rem; }
  .discourse-content h4 { font-size: 1.1rem; }

  .discourse-content p {
    margin: 0.5rem 0;
    color: rgb(var(--color-text-primary));
  }

  .discourse-content a {
    color: rgb(var(--color-orange));
    text-decoration: none;
  }

  .discourse-content a:hover {
    text-decoration: underline;
    color: rgb(var(--color-yellow));
  }

  .discourse-content ul,
  .discourse-content ol {
    margin: 0.75rem 0 0.75rem 1.25rem;
    padding-left: 1rem;
    color: rgb(var(--color-text-primary));
    list-style-position: outside;
    list-style-type: disc;
    display: grid;
    gap: 0.35rem;
  }

  .discourse-content ol {
    list-style-type: decimal;
  }

  .project-updates-page .discourse-content ul,
  .project-updates-page .discourse-content ol {
    gap: 0.15rem;
  }

  .project-updates-page .discourse-content li > p {
    margin: 0.15rem 0;
  }

  .discourse-content blockquote {
    border-left: 3px solid rgb(var(--color-border));
    padding-left: 0.9rem;
    color: rgb(var(--color-text-muted));
    margin: 1rem 0;
    font-style: italic;
  }

  .discourse-content code {
    background: rgb(var(--color-surface));
    border: 1px solid rgb(var(--color-border));
    border-radius: 0.3rem;
    padding: 0.15rem 0.35rem;
    font-size: 0.95em;
  }

  .discourse-content pre {
    background: rgb(var(--color-surface));
    border: 1px solid rgb(var(--color-border));
    border-radius: 0.5rem;
    padding: 0.85rem 1rem;
    overflow-x: auto;
  }

  .discourse-content img {
    max-width: 100%;
    height: auto;
  }

  .discourse-content .lightbox-wrapper,
  .discourse-content a.lightbox {
    display: inline-block;
    width: 100%;
    margin: 0.35rem 0;
    vertical-align: top;
  }

  .discourse-content .lightbox-wrapper img,
  .discourse-content a.lightbox img {
    display: block;
    width: 100%;
    height: auto;
  }

  @media (min-width: 768px) {
    .discourse-content .lightbox-wrapper,
    .discourse-content a.lightbox {
      width: calc(50% - 0.6rem);
      margin: 0.35rem 0.3rem;
    }
  }

  .discourse-content .lightbox-wrapper .meta,
  .discourse-content .lightbox-wrapper .filename,
  .discourse-content .lightbox-wrapper .informations,
  .discourse-content .lightbox-wrapper .lightbox-caption,
  .discourse-content .attachment .attachment-filename,
  .discourse-content .attachment .attachment-size,
  .discourse-content .attachment-details,
  .discourse-content .attachment-metadata {
    display: none;
  }
}
